% thanks to http://tex.stackexchange.com/a/47579/71109
\usepackage{ifxetex}
\usepackage{ifluatex}
\newif\ifxetexorluatex % a new conditional starts as false
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi>0
   \xetexorluatextrue
\fi

\ifxetexorluatex
  \usepackage{fontspec}
\else
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage[lighttt]{lmodern}
  \ttfamily\DeclareFontShape{T1}{lmtt}{m}{it}{<->sub*lmtt/m/sl}{}
\fi

\usepackage[english,magyar]{babel} % Alapértelmezés szerint utoljára definiált nyelv lesz aktív, de később külön beállítjuk az aktív nyelvet.

\usepackage{emptypage} % omit page number on empty pages

%\usepackage{cmap}
\usepackage{amsfonts,amsmath,amssymb} % Mathematical symbols.
%\usepackage[ruled,boxed,resetcount,linesnumbered]{algorithm2e} % For pseudocodes. % beware: this is not compatible with LuaLaTeX, see http://tex.stackexchange.com/questions/34814/lualatex-and-algorithm2e
\usepackage{booktabs} % For publication quality tables for LaTeX
\usepackage{graphicx}

%\usepackage{fancyhdr}
%\usepackage{lastpage}

\usepackage{geometry}
%\usepackage{sectsty}
\usepackage{setspace} % For setting line spacing

\usepackage[unicode]{hyperref} % For hyperlinks in the generated document.
\usepackage{listings} % For source code snippets.

\usepackage[amsmath,thmmarks]{ntheorem} % Theorem-like environments.

\usepackage[hang]{caption}

\singlespacing

\newcommand{\selecthungarian}{
	\selectlanguage{magyar}
	\setlength{\parindent}{2em}
	\setlength{\parskip}{0em}
	\frenchspacing
}

\newcommand{\selectenglish}{
	\selectlanguage{english}
	\setlength{\parindent}{0em}
	\setlength{\parskip}{0.5em}
	\nonfrenchspacing
	\renewcommand{\figureautorefname}{Figure}
	\renewcommand{\tableautorefname}{Table}
	\renewcommand{\partautorefname}{Part}
	\renewcommand{\chapterautorefname}{Chapter}
	\renewcommand{\sectionautorefname}{Section}
	\renewcommand{\subsectionautorefname}{Section}
	\renewcommand{\subsubsectionautorefname}{Section}
}

\usepackage[numbers]{natbib}
\usepackage{xspace}
\usepackage{svg}
\usepackage{csquotes}
\usepackage{todonotes}
\usepackage{subcaption}
\usepackage{xcolor}
\usepackage{algorithm2e}

\lstdefinelanguage{Xtext}{
	morekeywords={grammar, with, hidden, generate, as, import, returns, current, terminal, enum},
	keywordstyle=[2]{\textbf},
	morecomment=[l]{//}, 
	morecomment=[s]{/*}{*/}, 
	morestring=[b]",
	tabsize=4
}

\lstdefinelanguage{activity}{
morekeywords={action, activity, and, assert, boolean, branch, break, case, choice, const, constraint, control, data, decimal, decision, default, div, else, elseif, enum, exists, false, final, flow, for, forall, fork, from, function, if, imply, in, inf, initial, integer, join, lambda, language, merge, mod, not, or, out, procedure, range, rational, record, return, select, self, switch, to, true, type, var, void, xor},
keywordstyle=[2]{\textbf},
morecomment=[l]{//}, 
morecomment=[s]{/*}{*/}, 
morestring=[b]",
tabsize=4
}

\lstdefinelanguage{statechart}{
morekeywords={+>, , ->, -o)-, :, ::, :=, ;, <, <+, <-, <=, =, ==, >, >=, ?, @, @AdaptiveContractStatechart, @GuardEvaluation, @OrthogonalRegionSchedule, @Phase, @PhaseStatechart, @RegionSchedule, @ScenarioAllowedWaitAnnotation, @ScenarioContractStatechart, @StatechartContract, @TransitionPriority, [, ], \^, action, activity, adapter, and, any, assert, async, beginning-of-step, bind, boolean, bottom-up, branch, break, call, capacity, cascade, case, channel, choice, clock, component, const, constraint, control, cycle, data, decimal, decision, deep, default, discard, div, do, else, elseif, entry, enum, event, execute, exists, exit, extends, false, final, flow, for, forall, fork, from, full step, function, history, if, imply, import, in, in-state, incoming, inf, initial, inout, integer, interface, invariant, join, lambda, language, merge, mod, ms, no history, not, of, off, oldest, on-the-fly, or, order-based, out, package, permissive, persistent, port, priority, procedure, provides, queue, raise, random, range, rate, rational, record, region, requires, reset, retrieve-count, return, run, s, scheduled-async, select, self, sequential, set, shallow, state, statechart, strict, switch, sync, tie, timeout, to, top-down, transient, transition, true, type, value-based, var, void, when, xor, || },
keywordstyle=[2]{\textbf},
morecomment=[l]{//}, 
morecomment=[s]{/*}{*/}, 
morestring=[b]",
tabsize=4
}

\lstdefinelanguage{xsts}{
morekeywords={type, var, ctrl, trans, init, env, choice, or, assume, havoc, parallel},
keywordstyle=[2]{\textbf},
morecomment=[l]{//}, 
morecomment=[s]{/*}{*/}, 
morestring=[b]",
tabsize=4
}

\definecolor{sh_comment}{rgb}{0.25, 0.43, 0.31 } %adjusted, in Eclipse: {0.25, 0.42, 0.30 } = #3F6A4D
\definecolor{sh_keyword}{rgb}{0.52, 0.11, 0.36}  % #5F1441
\definecolor{sh_string}{rgb}{0.06, 0.09, 0.85} % #101AF9

